<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>SiGal: Sigal Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">SiGal
   
   </div>
   <div id="projectbrief">Simple gallery script provides single-file web gallery.</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.8.0 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">Sigal Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Simple gallery script provides single-file web gallery.  
 <a href="class_sigal.html#details">More...</a></p>

<p><a href="class_sigal-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9f1ec0df79b881f42d7572dbba1c4959"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a9f1ec0df79b881f42d7572dbba1c4959">__construct</a> ()</td></tr>
<tr class="memdesc:a9f1ec0df79b881f42d7572dbba1c4959"><td class="mdescLeft">&#160;</td><td class="mdescRight">Actually only redefines $this-&gt;html_head and $this-&gt;html_tail.  <a href="#a9f1ec0df79b881f42d7572dbba1c4959"></a><br/></td></tr>
<tr class="memitem:a31ed4913208ca01c8d734bfba2cdc230"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a31ed4913208ca01c8d734bfba2cdc230">addAccess</a> ()</td></tr>
<tr class="memdesc:a31ed4913208ca01c8d734bfba2cdc230"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds string $user.':'.$pass to array $_SESSION['givenaccess']. The values are obtained from $_POST['fuser'] and $_POST['fpass'].  <a href="#a31ed4913208ca01c8d734bfba2cdc230"></a><br/></td></tr>
<tr class="memitem:a85b6408298dc35f90b746bb8e14c70d3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a85b6408298dc35f90b746bb8e14c70d3">showGallery</a> ()</td></tr>
<tr class="memdesc:a85b6408298dc35f90b746bb8e14c70d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shows complete gallery - the albums selection.  <a href="#a85b6408298dc35f90b746bb8e14c70d3"></a><br/></td></tr>
<tr class="memitem:a3b4a9e4832a95e7842fad36066d8f880"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a3b4a9e4832a95e7842fad36066d8f880">showAlbum</a> ($alb)</td></tr>
<tr class="memdesc:a3b4a9e4832a95e7842fad36066d8f880"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shows given album.  <a href="#a3b4a9e4832a95e7842fad36066d8f880"></a><br/></td></tr>
<tr class="memitem:aa308adb7d5c9ecf15fd18cbcd586dc59"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#aa308adb7d5c9ecf15fd18cbcd586dc59">showImage</a> ($f)</td></tr>
<tr class="memdesc:aa308adb7d5c9ecf15fd18cbcd586dc59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shows detail of given photo.  <a href="#aa308adb7d5c9ecf15fd18cbcd586dc59"></a><br/></td></tr>
<tr class="memitem:ab3297c78787028f82884e0a442f5f590"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#ab3297c78787028f82884e0a442f5f590">showPassForm</a> ()</td></tr>
<tr class="memdesc:ab3297c78787028f82884e0a442f5f590"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shows form for grant access.  <a href="#ab3297c78787028f82884e0a442f5f590"></a><br/></td></tr>
<tr class="memitem:a4d597589556228f66c17ac34d48d7b98"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a4d597589556228f66c17ac34d48d7b98">showCreditPage</a> ()</td></tr>
<tr class="memdesc:a4d597589556228f66c17ac34d48d7b98"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shows credit page.  <a href="#a4d597589556228f66c17ac34d48d7b98"></a><br/></td></tr>
<tr class="memitem:a870bd1499d97db51752ceea9d1595dd7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a870bd1499d97db51752ceea9d1595dd7">getAlbums</a> ()</td></tr>
<tr class="memdesc:a870bd1499d97db51752ceea9d1595dd7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get sorted (by name reversed eg. 9-&gt;0, Z-&gt;A) array of all albums.  <a href="#a870bd1499d97db51752ceea9d1595dd7"></a><br/></td></tr>
<tr class="memitem:a946ceafb15b5a995aa8f22a8e1da0077"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a946ceafb15b5a995aa8f22a8e1da0077">readLock</a> ($dir)</td></tr>
<tr class="memdesc:a946ceafb15b5a995aa8f22a8e1da0077"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads possible lock file and parse its contents into current object.  <a href="#a946ceafb15b5a995aa8f22a8e1da0077"></a><br/></td></tr>
<tr class="memitem:a001a7c1a90ffb1683b7674ccabdf1796"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a001a7c1a90ffb1683b7674ccabdf1796">getImages</a> ($dir)</td></tr>
<tr class="memdesc:a001a7c1a90ffb1683b7674ccabdf1796"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns all images from given directory sorted by name and read possible locks of album.  <a href="#a001a7c1a90ffb1683b7674ccabdf1796"></a><br/></td></tr>
<tr class="memitem:ad5f3f34732c98c2f70e109a9d4397741"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#ad5f3f34732c98c2f70e109a9d4397741">getAlbumTitleFile</a> ($album)</td></tr>
<tr class="memdesc:ad5f3f34732c98c2f70e109a9d4397741"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets path to title image of given album. If there are no iconificable image, the $this-&gt;defaultIcon is used.  <a href="#ad5f3f34732c98c2f70e109a9d4397741"></a><br/></td></tr>
<tr class="memitem:a1360acaca572c86e4262a9819f7b87dc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a1360acaca572c86e4262a9819f7b87dc">downloadZippedImages</a> ()</td></tr>
<tr class="memitem:a67b8a01fff1e7de1c2a85a863e353c65"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a67b8a01fff1e7de1c2a85a863e353c65">makeThumbImage</a> ($file)</td></tr>
<tr class="memdesc:a67b8a01fff1e7de1c2a85a863e353c65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates thumbnail of given image.  <a href="#a67b8a01fff1e7de1c2a85a863e353c65"></a><br/></td></tr>
<tr class="memitem:a70abaff76dcc0f9f594c677738379206"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a70abaff76dcc0f9f594c677738379206">makeMiddleImage</a> ($file)</td></tr>
<tr class="memdesc:a70abaff76dcc0f9f594c677738379206"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates middle size image of given original image.  <a href="#a70abaff76dcc0f9f594c677738379206"></a><br/></td></tr>
<tr class="memitem:a06aaf44142e6131309945869ff629d57"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a06aaf44142e6131309945869ff629d57">resizeImage</a> ($path, $max_x)</td></tr>
<tr class="memdesc:a06aaf44142e6131309945869ff629d57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Resizes given image (JPG, PNG, GIF, BMP) with respect to aspect ratio. Saves final image to cache.  <a href="#a06aaf44142e6131309945869ff629d57"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a18e3065e7dbda069c126ecf2641a9574"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a18e3065e7dbda069c126ecf2641a9574">$version</a> = '1.2'</td></tr>
<tr class="memitem:af41dd220acc8a74644de346650303e5c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#af41dd220acc8a74644de346650303e5c">$dir</a> = './pictures/'</td></tr>
<tr class="memitem:a8848080b1ac5fcbab6a9ccb39978433f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a8848080b1ac5fcbab6a9ccb39978433f">$cache</a> = './cache/'</td></tr>
<tr class="memitem:ad84083d84c07b45eec121b1f96ee9582"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#ad84083d84c07b45eec121b1f96ee9582">$defaultIcon</a> = '?static=defico'</td></tr>
<tr class="memitem:a4593731a0bd9ee26a42012510e4f8034"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a4593731a0bd9ee26a42012510e4f8034">$icotitlefname</a> = '000.nfo'</td></tr>
<tr class="memitem:a18a70ac726a1191a82ae32c64adf5655"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a18a70ac726a1191a82ae32c64adf5655">$lockfname</a> = '000.lock'</td></tr>
<tr class="memitem:a2ab1d4be50b0950e80faf6a7c6577e04"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a2ab1d4be50b0950e80faf6a7c6577e04">$thumb_x</a> = 160</td></tr>
<tr class="memitem:ac0a61f8ad0b4b05a2ae2b3d49274d380"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#ac0a61f8ad0b4b05a2ae2b3d49274d380">$thumb_y</a> = 120</td></tr>
<tr class="memitem:a50a7de6a4f5b6b4a1b7e7750f5e0c468"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a50a7de6a4f5b6b4a1b7e7750f5e0c468">$middle_x</a> = 800</td></tr>
<tr class="memitem:a10dca373cbd5b5b518b6bf43bb5a315f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a10dca373cbd5b5b518b6bf43bb5a315f">$imgTitleLen</a> = 16</td></tr>
<tr class="memitem:ae8183f5633c646b589649f10f3c4cbab"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#ae8183f5633c646b589649f10f3c4cbab">$galTitle</a> = 'SiGal gallery'</td></tr>
<tr class="memitem:ab8c127bbe84473399ed682be6037f452"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#ab8c127bbe84473399ed682be6037f452">$legal_notice</a> = 'No photos can be distributted without written permission of their author (&lt;a href=&quot;http://gimli2.gipix.net&quot;&gt;Gimli2&lt;/a&gt;).'</td></tr>
<tr class="memitem:a0a688de17b9ec89967d71972c1317756"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a0a688de17b9ec89967d71972c1317756">$html_head</a> = '&lt;!DOCTYPE html&gt;&lt;head&gt;&lt;title&gt;{title}&lt;/title&gt;&lt;/head&gt;&lt;body&gt;'</td></tr>
<tr class="memitem:ad9c0ab73531d812a9b2e989ac298c219"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#ad9c0ab73531d812a9b2e989ac298c219">$html_tail</a> = '&lt;/body&gt;&lt;/html&gt;'</td></tr>
<tr class="memitem:a7325ba23002ae3dafcbc17101bf25f9a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a7325ba23002ae3dafcbc17101bf25f9a">$exts</a> = array('jpg','jpeg','png','gif','bmp','tif','tiff','svg','swf','flv','mp4', 'mp3')</td></tr>
<tr class="memitem:a85807f1919e4b8b26144ec6de3ed2e68"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a85807f1919e4b8b26144ec6de3ed2e68">$extsIcon</a> = array('jpg','jpeg','png', 'gif', 'bmp')</td></tr>
<tr class="memitem:add9f742c260d63b1e5cd58de76a7ebb2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#add9f742c260d63b1e5cd58de76a7ebb2">$extsExif</a> = array('jpg','jpeg','tif','tiff')</td></tr>
<tr class="memitem:a352f16aaff7576ec32eaac85def4d2f2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a352f16aaff7576ec32eaac85def4d2f2">$extsVideo</a> = array('swf','flv','mp4')</td></tr>
<tr class="memitem:acb9d749c296ec8371df53302c52d168b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#acb9d749c296ec8371df53302c52d168b">$extsAudio</a> = array('mp3')</td></tr>
<tr class="memitem:a6e7c7293142ffe8dcccafc51d85d3321"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a6e7c7293142ffe8dcccafc51d85d3321">$defaultMime</a> = 'text/plain'</td></tr>
<tr class="memitem:a6e12a0d3c7deecc377dc61e96690be49"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a6e12a0d3c7deecc377dc61e96690be49">$avMime</a></td></tr>
<tr class="memitem:a30f01f556b6eb74b4e74241635c69cda"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a30f01f556b6eb74b4e74241635c69cda">$func_sortimages</a> = NULL</td></tr>
<tr class="memitem:a8c287fdb0349000f9d0bd2c14c3abbde"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a8c287fdb0349000f9d0bd2c14c3abbde">$func_sortalbums</a> = NULL</td></tr>
<tr class="memitem:a13dac2a6d1e47bab63c23c1c358e7d7c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a13dac2a6d1e47bab63c23c1c358e7d7c">$func_scandir</a> = NULL</td></tr>
<tr class="memitem:af963d846013327a8b150660005295381"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#af963d846013327a8b150660005295381">$func_albumname</a> = NULL</td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:afa2a871edbeb23627941130e381b89d0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#afa2a871edbeb23627941130e381b89d0">sortItems</a> ($array, $callback_id)</td></tr>
<tr class="memitem:a41f49c280ade0dc92bc6711e9f4394c0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a41f49c280ade0dc92bc6711e9f4394c0">isAccessible</a> ()</td></tr>
<tr class="memdesc:a41f49c280ade0dc92bc6711e9f4394c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test whether given album is accessible. In $_SESSION['givenaccess'] must we at least one valid user from array $this-&gt;validusers.  <a href="#a41f49c280ade0dc92bc6711e9f4394c0"></a><br/></td></tr>
<tr class="memitem:a8f62432a21c06589fdcb3fb88a0f3c0d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a8f62432a21c06589fdcb3fb88a0f3c0d">sanitizePath</a> ($p)</td></tr>
<tr class="memdesc:a8f62432a21c06589fdcb3fb88a0f3c0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sanitize path of file or album. No jumps to parent dirs, no wildcards for glob(), path must start in pictures directory.  <a href="#a8f62432a21c06589fdcb3fb88a0f3c0d"></a><br/></td></tr>
<tr class="memitem:a2859fc7f6ffa4b9e3136789d334053cf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a2859fc7f6ffa4b9e3136789d334053cf">getExt</a> ($file)</td></tr>
<tr class="memdesc:a2859fc7f6ffa4b9e3136789d334053cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the last extension of file.  <a href="#a2859fc7f6ffa4b9e3136789d334053cf"></a><br/></td></tr>
<tr class="memitem:abd0e248a8ff74bfd1d2071fc9e6bacfd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#abd0e248a8ff74bfd1d2071fc9e6bacfd">getMimeType</a> ($file)</td></tr>
<tr class="memdesc:abd0e248a8ff74bfd1d2071fc9e6bacfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to get mime type of file.  <a href="#abd0e248a8ff74bfd1d2071fc9e6bacfd"></a><br/></td></tr>
<tr class="memitem:a6db2f65fba2a691ea30f88196b80d83c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a6db2f65fba2a691ea30f88196b80d83c">getMiddleName</a> ($file)</td></tr>
<tr class="memdesc:a6db2f65fba2a691ea30f88196b80d83c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a filename for middle size image.  <a href="#a6db2f65fba2a691ea30f88196b80d83c"></a><br/></td></tr>
<tr class="memitem:a9671506993f90d7fac0180bebce747ed"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a9671506993f90d7fac0180bebce747ed">getThumbName</a> ($file)</td></tr>
<tr class="memdesc:a9671506993f90d7fac0180bebce747ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a filename for thumbnail of given image.  <a href="#a9671506993f90d7fac0180bebce747ed"></a><br/></td></tr>
<tr class="memitem:a2a47fe465cfd0153a2fa86010d5ce164"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a2a47fe465cfd0153a2fa86010d5ce164">getImageTitle</a> ($file)</td></tr>
<tr class="memdesc:a2a47fe465cfd0153a2fa86010d5ce164"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets title for image. Of the name is too long, the first 16 chars are used.  <a href="#a2a47fe465cfd0153a2fa86010d5ce164"></a><br/></td></tr>
<tr class="memitem:a189a0c677fb5dbc94b3c8f0f06e7c13d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a189a0c677fb5dbc94b3c8f0f06e7c13d">getAlbumTitle</a> ($file)</td></tr>
<tr class="memdesc:a189a0c677fb5dbc94b3c8f0f06e7c13d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets title for album. It can reorder parts of dir name, add some infromation like a date of modification etc.  <a href="#a189a0c677fb5dbc94b3c8f0f06e7c13d"></a><br/></td></tr>
<tr class="memitem:aab09fbb67cb1a3025bcf4bc794322250"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#aab09fbb67cb1a3025bcf4bc794322250">hasGPSData</a> ($exif)</td></tr>
<tr class="memdesc:aab09fbb67cb1a3025bcf4bc794322250"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether given array of EXIF contains dome GPS related data.  <a href="#aab09fbb67cb1a3025bcf4bc794322250"></a><br/></td></tr>
<tr class="memitem:ac5f039b0071a1f19fb14952ddb5f66df"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#ac5f039b0071a1f19fb14952ddb5f66df">getGPSLatLon</a> ($exif)</td></tr>
<tr class="memdesc:ac5f039b0071a1f19fb14952ddb5f66df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses EXIF GPS data to double representation.  <a href="#ac5f039b0071a1f19fb14952ddb5f66df"></a><br/></td></tr>
<tr class="memitem:a87fab110b5a2a650bc4af450f4f7bc0d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a87fab110b5a2a650bc4af450f4f7bc0d">getHumanGPS</a> ($lat, $lon)</td></tr>
<tr class="memdesc:a87fab110b5a2a650bc4af450f4f7bc0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Converts double representation of lat/lon to human form eg. N 50° 42.000, E 15° 42.000.  <a href="#a87fab110b5a2a650bc4af450f4f7bc0d"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ad70293bb7f8b2bf94d5f880ad42bb233"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#ad70293bb7f8b2bf94d5f880ad42bb233">$islocked</a> = false</td></tr>
<tr class="memitem:a9fd72e146aa1a0d1973a7f8ea9cdc20c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sigal.html#a9fd72e146aa1a0d1973a7f8ea9cdc20c">$validusers</a> = array()</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Simple gallery script provides single-file web gallery. </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a9f1ec0df79b881f42d7572dbba1c4959"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a9f1ec0df79b881f42d7572dbba1c4959">Sigal::__construct</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Actually only redefines $this-&gt;html_head and $this-&gt;html_tail. </p>
<dl class="section return"><dt>Returns:</dt><dd>An instance of SiGal class. </dd></dl>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a31ed4913208ca01c8d734bfba2cdc230"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a31ed4913208ca01c8d734bfba2cdc230">Sigal::addAccess</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Adds string $user.':'.$pass to array $_SESSION['givenaccess']. The values are obtained from $_POST['fuser'] and $_POST['fpass']. </p>

</div>
</div>
<a class="anchor" id="a1360acaca572c86e4262a9819f7b87dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a1360acaca572c86e4262a9819f7b87dc">Sigal::downloadZippedImages</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<a class="anchor" id="a870bd1499d97db51752ceea9d1595dd7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a870bd1499d97db51752ceea9d1595dd7">Sigal::getAlbums</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get sorted (by name reversed eg. 9-&gt;0, Z-&gt;A) array of all albums. </p>
<dl class="section return"><dt>Returns:</dt><dd>An array of all albums in defined dir ($this-&gt;dir). </dd></dl>

</div>
</div>
<a class="anchor" id="a189a0c677fb5dbc94b3c8f0f06e7c13d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a189a0c677fb5dbc94b3c8f0f06e7c13d">Sigal::getAlbumTitle</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets title for album. It can reorder parts of dir name, add some infromation like a date of modification etc. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$file</td><td>The original album dir. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>HTML H2 tag with title of an album. </dd></dl>

</div>
</div>
<a class="anchor" id="ad5f3f34732c98c2f70e109a9d4397741"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#ad5f3f34732c98c2f70e109a9d4397741">Sigal::getAlbumTitleFile</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>album</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets path to title image of given album. If there are no iconificable image, the $this-&gt;defaultIcon is used. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$album</td><td>Path to album directory with terminating slash </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>URL of title image. </dd></dl>

</div>
</div>
<a class="anchor" id="a2859fc7f6ffa4b9e3136789d334053cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a2859fc7f6ffa4b9e3136789d334053cf">Sigal::getExt</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets the last extension of file. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$file</td><td>File to get extension. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>The last extension from given file. </dd></dl>

</div>
</div>
<a class="anchor" id="ac5f039b0071a1f19fb14952ddb5f66df"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#ac5f039b0071a1f19fb14952ddb5f66df">Sigal::getGPSLatLon</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>exif</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Parses EXIF GPS data to double representation. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$exif</td><td>The array of exif data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>array $a[0] =&gt; (double) latitude, $a[1] =&gt; (double) longitude; </dd></dl>

</div>
</div>
<a class="anchor" id="a87fab110b5a2a650bc4af450f4f7bc0d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a87fab110b5a2a650bc4af450f4f7bc0d">Sigal::getHumanGPS</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>lat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>lon</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Converts double representation of lat/lon to human form eg. N 50° 42.000, E 15° 42.000. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">double</td><td class="paramname">$lat</td><td>Latitude. </td></tr>
    <tr><td class="paramtype">double</td><td class="paramname">$lon</td><td>Longitude. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>array $a['lat'] =&gt; (string) latitude, $a['lon'] =&gt; (string) longitude; </dd></dl>

</div>
</div>
<a class="anchor" id="a001a7c1a90ffb1683b7674ccabdf1796"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a001a7c1a90ffb1683b7674ccabdf1796">Sigal::getImages</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>dir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns all images from given directory sorted by name and read possible locks of album. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$dir</td><td>Source directory for scan with terminating slash. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>An array of all images. </dd></dl>

</div>
</div>
<a class="anchor" id="a2a47fe465cfd0153a2fa86010d5ce164"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a2a47fe465cfd0153a2fa86010d5ce164">Sigal::getImageTitle</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gets title for image. Of the name is too long, the first 16 chars are used. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$file</td><td>The original filename. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>HTML H2 tag with title of an image. </dd></dl>

</div>
</div>
<a class="anchor" id="a6db2f65fba2a691ea30f88196b80d83c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a6db2f65fba2a691ea30f88196b80d83c">Sigal::getMiddleName</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a filename for middle size image. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$file</td><td>The original filename. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="abd0e248a8ff74bfd1d2071fc9e6bacfd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#abd0e248a8ff74bfd1d2071fc9e6bacfd">Sigal::getMimeType</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Try to get mime type of file. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$file</td><td>The original filename. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>Mime type of given file. </dd></dl>

</div>
</div>
<a class="anchor" id="a9671506993f90d7fac0180bebce747ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a9671506993f90d7fac0180bebce747ed">Sigal::getThumbName</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates a filename for thumbnail of given image. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$file</td><td>The original filename. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="aab09fbb67cb1a3025bcf4bc794322250"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#aab09fbb67cb1a3025bcf4bc794322250">Sigal::hasGPSData</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>exif</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Determines whether given array of EXIF contains dome GPS related data. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">array</td><td class="paramname">$exif</td><td>The array of exif data. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>boolean TRUE when some GPS related data was found, FALSE otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a41f49c280ade0dc92bc6711e9f4394c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a41f49c280ade0dc92bc6711e9f4394c0">Sigal::isAccessible</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Test whether given album is accessible. In $_SESSION['givenaccess'] must we at least one valid user from array $this-&gt;validusers. </p>
<dl class="section return"><dt>Returns:</dt><dd>TRUE when album is accessible, FALSE otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a70abaff76dcc0f9f594c677738379206"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a70abaff76dcc0f9f594c677738379206">Sigal::makeMiddleImage</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates middle size image of given original image. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$file</td><td>The original filename. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a67b8a01fff1e7de1c2a85a863e353c65"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a67b8a01fff1e7de1c2a85a863e353c65">Sigal::makeThumbImage</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates thumbnail of given image. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$file</td><td>The original filename. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a946ceafb15b5a995aa8f22a8e1da0077"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a946ceafb15b5a995aa8f22a8e1da0077">Sigal::readLock</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>dir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reads possible lock file and parse its contents into current object. </p>

</div>
</div>
<a class="anchor" id="a06aaf44142e6131309945869ff629d57"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a06aaf44142e6131309945869ff629d57">Sigal::resizeImage</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>max_x</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Resizes given image (JPG, PNG, GIF, BMP) with respect to aspect ratio. Saves final image to cache. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$path</td><td>The original image.. </td></tr>
    <tr><td class="paramtype">double</td><td class="paramname">$max_x</td><td>Final width. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>string Full path of resized image in cache. </dd></dl>

</div>
</div>
<a class="anchor" id="a8f62432a21c06589fdcb3fb88a0f3c0d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a8f62432a21c06589fdcb3fb88a0f3c0d">Sigal::sanitizePath</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>p</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Sanitize path of file or album. No jumps to parent dirs, no wildcards for glob(), path must start in pictures directory. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$p</td><td>Path for sanitization. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns:</dt><dd>Sanitized path. </dd></dl>

</div>
</div>
<a class="anchor" id="a3b4a9e4832a95e7842fad36066d8f880"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a3b4a9e4832a95e7842fad36066d8f880">Sigal::showAlbum</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>alb</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Shows given album. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$alb</td><td>Full path to album directory with terminating slash. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4d597589556228f66c17ac34d48d7b98"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a4d597589556228f66c17ac34d48d7b98">Sigal::showCreditPage</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Shows credit page. </p>

</div>
</div>
<a class="anchor" id="a85b6408298dc35f90b746bb8e14c70d3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a85b6408298dc35f90b746bb8e14c70d3">Sigal::showGallery</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Shows complete gallery - the albums selection. </p>

</div>
</div>
<a class="anchor" id="aa308adb7d5c9ecf15fd18cbcd586dc59"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#aa308adb7d5c9ecf15fd18cbcd586dc59">Sigal::showImage</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>f</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Shows detail of given photo. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramtype">string</td><td class="paramname">$f</td><td>Path to original image. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ab3297c78787028f82884e0a442f5f590"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#ab3297c78787028f82884e0a442f5f590">Sigal::showPassForm</a> </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Shows form for grant access. </p>

</div>
</div>
<a class="anchor" id="afa2a871edbeb23627941130e381b89d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#afa2a871edbeb23627941130e381b89d0">Sigal::sortItems</a> </td>
          <td>(</td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>array</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">$&#160;</td>
          <td class="paramname"><em>callback_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a6e12a0d3c7deecc377dc61e96690be49"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a6e12a0d3c7deecc377dc61e96690be49">Sigal::$avMime</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Initial value:</b><div class="fragment"><pre class="fragment"> array(
    <span class="stringliteral">&#39;mp3&#39;</span> =&gt; <span class="stringliteral">&#39;audio/mpeg&#39;</span>,
    <span class="stringliteral">&#39;mp4&#39;</span> =&gt; <span class="stringliteral">&#39;video/mp4&#39;</span>,
    <span class="stringliteral">&#39;swf&#39;</span> =&gt; <span class="stringliteral">&#39;application/x-shockwave-flash&#39;</span>,
    <span class="stringliteral">&#39;flv&#39;</span> =&gt; <span class="stringliteral">&#39;video/x-flv&#39;</span>
  )
</pre></div><p>Mime types for files. The key represents extension, value is mime type. </p>

</div>
</div>
<a class="anchor" id="a8848080b1ac5fcbab6a9ccb39978433f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a8848080b1ac5fcbab6a9ccb39978433f">Sigal::$cache</a> = './cache/'</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Directory for caching thumbnails (must be writeable!). </p>

</div>
</div>
<a class="anchor" id="ad84083d84c07b45eec121b1f96ee9582"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#ad84083d84c07b45eec121b1f96ee9582">Sigal::$defaultIcon</a> = '?static=defico'</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>URL to default album and picture icon. May be absolute or relative. </p>

</div>
</div>
<a class="anchor" id="a6e7c7293142ffe8dcccafc51d85d3321"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a6e7c7293142ffe8dcccafc51d85d3321">Sigal::$defaultMime</a> = 'text/plain'</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Default mime type. It is used when automated recognition fails. </p>

</div>
</div>
<a class="anchor" id="af41dd220acc8a74644de346650303e5c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#af41dd220acc8a74644de346650303e5c">Sigal::$dir</a> = './pictures/'</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Directory with pictures. </p>

</div>
</div>
<a class="anchor" id="a7325ba23002ae3dafcbc17101bf25f9a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a7325ba23002ae3dafcbc17101bf25f9a">Sigal::$exts</a> = array('jpg','jpeg','png','gif','bmp','tif','tiff','svg','swf','flv','mp4', 'mp3')</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Array of file extensions for scanning in directiories. </p>

</div>
</div>
<a class="anchor" id="acb9d749c296ec8371df53302c52d168b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#acb9d749c296ec8371df53302c52d168b">Sigal::$extsAudio</a> = array('mp3')</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Array of file extensions for audio files. </p>

</div>
</div>
<a class="anchor" id="add9f742c260d63b1e5cd58de76a7ebb2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#add9f742c260d63b1e5cd58de76a7ebb2">Sigal::$extsExif</a> = array('jpg','jpeg','tif','tiff')</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Array of file extensions with EXIF informations. </p>

</div>
</div>
<a class="anchor" id="a85807f1919e4b8b26144ec6de3ed2e68"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a85807f1919e4b8b26144ec6de3ed2e68">Sigal::$extsIcon</a> = array('jpg','jpeg','png', 'gif', 'bmp')</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Array of file extensions for which we are able to generate thumbnail. </p>

</div>
</div>
<a class="anchor" id="a352f16aaff7576ec32eaac85def4d2f2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a352f16aaff7576ec32eaac85def4d2f2">Sigal::$extsVideo</a> = array('swf','flv','mp4')</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Array of file extensions for videofiles. </p>

</div>
</div>
<a class="anchor" id="af963d846013327a8b150660005295381"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#af963d846013327a8b150660005295381">Sigal::$func_albumname</a> = NULL</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Callback function for mapping directory name to album name. </p>

</div>
</div>
<a class="anchor" id="a13dac2a6d1e47bab63c23c1c358e7d7c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a13dac2a6d1e47bab63c23c1c358e7d7c">Sigal::$func_scandir</a> = NULL</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Callback function for scanning directory for images. You can implement own filters tanks to this function. </p>

</div>
</div>
<a class="anchor" id="a8c287fdb0349000f9d0bd2c14c3abbde"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a8c287fdb0349000f9d0bd2c14c3abbde">Sigal::$func_sortalbums</a> = NULL</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Callback function for sorting albums in gallery. </p>

</div>
</div>
<a class="anchor" id="a30f01f556b6eb74b4e74241635c69cda"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a30f01f556b6eb74b4e74241635c69cda">Sigal::$func_sortimages</a> = NULL</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Callback function for sorting images in some album. </p>

</div>
</div>
<a class="anchor" id="ae8183f5633c646b589649f10f3c4cbab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#ae8183f5633c646b589649f10f3c4cbab">Sigal::$galTitle</a> = 'SiGal gallery'</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Title of whole gallery. </p>

</div>
</div>
<a class="anchor" id="a0a688de17b9ec89967d71972c1317756"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a0a688de17b9ec89967d71972c1317756">Sigal::$html_head</a> = '&lt;!DOCTYPE html&gt;&lt;head&gt;&lt;title&gt;{title}&lt;/title&gt;&lt;/head&gt;&lt;body&gt;'</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>HTML head of each page of gallery. You can use string "{title}" which will be replaced by title of gallery defined above. </p>

</div>
</div>
<a class="anchor" id="ad9c0ab73531d812a9b2e989ac298c219"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#ad9c0ab73531d812a9b2e989ac298c219">Sigal::$html_tail</a> = '&lt;/body&gt;&lt;/html&gt;'</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>HTML tail of each page of galllery. </p>

</div>
</div>
<a class="anchor" id="a4593731a0bd9ee26a42012510e4f8034"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a4593731a0bd9ee26a42012510e4f8034">Sigal::$icotitlefname</a> = '000.nfo'</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Name of file with definition of title image. </p>

</div>
</div>
<a class="anchor" id="a10dca373cbd5b5b518b6bf43bb5a315f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a10dca373cbd5b5b518b6bf43bb5a315f">Sigal::$imgTitleLen</a> = 16</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Number of characters of shortened image title. </p>

</div>
</div>
<a class="anchor" id="ad70293bb7f8b2bf94d5f880ad42bb233"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#ad70293bb7f8b2bf94d5f880ad42bb233">Sigal::$islocked</a> = false<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Flag for browsing in locked albums. </p>

</div>
</div>
<a class="anchor" id="ab8c127bbe84473399ed682be6037f452"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#ab8c127bbe84473399ed682be6037f452">Sigal::$legal_notice</a> = 'No photos can be distributted without written permission of their author (&lt;a href=&quot;http://gimli2.gipix.net&quot;&gt;Gimli2&lt;/a&gt;).'</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>String shown in bottom of each page. Designed to some words about legal use of photos. </p>

</div>
</div>
<a class="anchor" id="a18a70ac726a1191a82ae32c64adf5655"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a18a70ac726a1191a82ae32c64adf5655">Sigal::$lockfname</a> = '000.lock'</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Name of file with defined usernames/passwords for locked/private albums. </p>

</div>
</div>
<a class="anchor" id="a50a7de6a4f5b6b4a1b7e7750f5e0c468"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a50a7de6a4f5b6b4a1b7e7750f5e0c468">Sigal::$middle_x</a> = 800</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Width of middle size picture - the view size. </p>

</div>
</div>
<a class="anchor" id="a2ab1d4be50b0950e80faf6a7c6577e04"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a2ab1d4be50b0950e80faf6a7c6577e04">Sigal::$thumb_x</a> = 160</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Width of thumbnail. Minimal 120px. </p>

</div>
</div>
<a class="anchor" id="ac0a61f8ad0b4b05a2ae2b3d49274d380"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#ac0a61f8ad0b4b05a2ae2b3d49274d380">Sigal::$thumb_y</a> = 120</td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Height of thumbnail. Minimal 120px. </p>

</div>
</div>
<a class="anchor" id="a9fd72e146aa1a0d1973a7f8ea9cdc20c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a9fd72e146aa1a0d1973a7f8ea9cdc20c">Sigal::$validusers</a> = array()<code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Array of usernames which have access to given album. </p>

</div>
</div>
<a class="anchor" id="a18e3065e7dbda069c126ecf2641a9574"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_sigal.html#a18e3065e7dbda069c126ecf2641a9574">Sigal::$version</a> = '1.2'</td>
        </tr>
      </table>
</div>
<div class="memdoc">

</div>
</div>
</div><!-- contents -->


<hr class="footer"/><address class="footer"><small>
Generated on Mon Dec 8 2014 19:32:16 for SiGal by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.0
</small></address>

</body>
</html>
